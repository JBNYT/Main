<!DOCTYPE html>
<html>

<head>
    <title>Questionário</title>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="estilohome.css">
</head>

<body>
    <h1>Escala de Propósito</h1>
    <form id="form-questionario" onsubmit="return validarFormulario()" action="resultado.html" method="post">
        <p>1. Eu me sinto bem quando penso nas coisas que fiz no passado e nas que espero fazer no futuro.</p>
        <label><input type="radio" name="pergunta1" value="1">Não concordo de jeito nenhum</label><br>
        <label><input type="radio" name="pergunta1" value="2">Concordo pouco</label><br>
        <label><input type="radio" name="pergunta1" value="3">Concorância moderada</label><br>
        <label><input type="radio" name="pergunta1" value="4">Concordo muito</label><br>
        <label><input type="radio" name="pergunta1" value="5">Concordo muitíssimo</label><br>

        <p>2. Eu vivo a vida um dia de cada vez e realmente não penso no futuro.</p>
        <label><input type="radio" name="pergunta2" value="-1">Não concordo de jeito nenhum</label><br>
        <label><input type="radio" name="pergunta2" value="-2">Concordo pouco</label><br>
        <label><input type="radio" name="pergunta2" value="-3">Concorância moderada</label><br>
        <label><input type="radio" name="pergunta2" value="-4">Concordo muito</label><br>
        <label><input type="radio" name="pergunta2" value="-5">Concordo muitíssimo</label><br>

        <p>3. Eu prefiro focar no presente, porque o futuro quase sempre me traz problemas.</p>
        <label><input type="radio" name="pergunta3" value="-1">Não concordo de jeito nenhum</label><br>
        <label><input type="radio" name="pergunta3" value="-2">Concordo pouco</label><br>
        <label><input type="radio" name="pergunta3" value="-3">Concorância moderada</label><br>
        <label><input type="radio" name="pergunta3" value="-4">Concordo muito</label><br>
        <label><input type="radio" name="pergunta3" value="-5">Concordo muitíssimo</label><br>

        <p>4. Eu tenho um senso de direção e propósito de vida.</p>
        <label><input type="radio" name="pergunta4" value="1">Não concordo de jeito nenhum</label><br>
        <label><input type="radio" name="pergunta4" value="2">Concordo pouco</label><br>
        <label><input type="radio" name="pergunta4" value="3">Concorância moderada</label><br>
        <label><input type="radio" name="pergunta4" value="4">Concordo muito</label><br>
        <label><input type="radio" name="pergunta4" value="5">Concordo muitíssimo</label><br>

        <p>5. Minhas atividades diárias com frequência me parecem banais e sem importância.</p>
        <label><input type="radio" name="pergunta5" value="-1">Não concordo de jeito nenhum</label><br>
        <label><input type="radio" name="pergunta5" value="-2">Concordo pouco</label><br>
        <label><input type="radio" name="pergunta5" value="-3">Concorância moderada</label><br>
        <label><input type="radio" name="pergunta5" value="-4">Concordo muito</label><br>
        <label><input type="radio" name="pergunta5" value="-5">Concordo muitíssimo</label><br>

        <p>6. Eu costumava estabelecer metas para mim, mas agora isso me parece uma perda de tempo.</p>
        <label><input type="radio" name="pergunta6" value="-1">Não concordo de jeito nenhum</label><br>
        <label><input type="radio" name="pergunta6" value="-2">Concordo pouco</label><br>
        <label><input type="radio" name="pergunta6" value="-3">Concorância moderada</label><br>
        <label><input type="radio" name="pergunta6" value="-4">Concordo muito</label><br>
        <label><input type="radio" name="pergunta6" value="-5">Concordo muitíssimo</label><br>

        <p>7. Eu gosto de fazer planos para o futuro e trabalhar para torná-los realidade.</p>
        <label><input type="radio" name="pergunta7" value="1">Não concordo de jeito nenhum</label><br>
        <label><input type="radio" name="pergunta7" value="2">Concordo pouco</label><br>
        <label><input type="radio" name="pergunta7" value="3">Concorância moderada</label><br>
        <label><input type="radio" name="pergunta7" value="4">Concordo muito</label><br>
        <label><input type="radio" name="pergunta7" value="5">Concordo muitíssimo</label><br>

        <p>8. Eu sou uma pessoa ativa nos planos que estabeleci para mim mesmo.</p>
        <label><input type="radio" name="pergunta8" value="1">Não concordo de jeito nenhum</label><br>
        <label><input type="radio" name="pergunta8" value="2">Concordo pouco</label><br>
        <label><input type="radio" name="pergunta8" value="3">Concorância moderada</label><br>
        <label><input type="radio" name="pergunta8" value="4">Concordo muito</label><br>
        <label><input type="radio" name="pergunta8" value="5">Concordo muitíssimo</label><br>

        <p>9. Eu não sou como algumas pessoas que parecem vagar sem objetivo pela vida.</p>
        <label><input type="radio" name="pergunta9" value="1">Não concordo de jeito nenhum</label><br>
        <label><input type="radio" name="pergunta9" value="2">Concordo pouco</label><br>
        <label><input type="radio" name="pergunta9" value="3">Concorância moderada</label><br>
        <label><input type="radio" name="pergunta9" value="4">Concordo muito</label><br>
        <label><input type="radio" name="pergunta9" value="5">Concordo muitíssimo</label><br>

        <p>10. Às vezes eu me sinto como se já tivesse feito tudo na vida.</p>
        <label><input type="radio" name="pergunta10" value="-1">Não concordo de jeito nenhum</label><br>
        <label><input type="radio" name="pergunta10" value="-2">Concordo pouco</label><br>
        <label><input type="radio" name="pergunta10" value="-3">Concorância moderada</label><br>
        <label><input type="radio" name="pergunta10" value="-4">Concordo muito</label><br>
        <label><input type="radio" name="pergunta10" value="-5">Concordo muitíssimo</label><br>

        <button type="submit" id="botao-enviar" disabled onclick="calcularResultado()">Ver Resultado</button>
    </form>

    <script>
        // Seleciona o formulário e o botão de envio
        const form = document.querySelector('#form-questionario');
        const submitButton = document.querySelector('#botao-enviar');

        console.log('Formulário e botão de envio selecionados:', form, submitButton);

        // Adiciona um listener para o envio do formulário
        form.addEventListener('submit', (event) => {
            event.preventDefault(); // Previne o envio padrão do formulário

            // Obtém todas as respostas selecionadas
            const respostas = document.querySelectorAll('input[type=radio]:checked');
            console.log('Respostas selecionadas:', respostas);

            // Verifica se todas as perguntas foram respondidas
            if (respostas.length !== 10) {
                alert('Por favor, responda todas as perguntas.');
                console.log('Botão de envio desativado pois nem todas as perguntas foram respondidas');
                return;
            }

            // Soma os valores das respostas
            let somaRespostas = 0;
            respostas.forEach((resposta) => {
                somaRespostas += parseInt(resposta.value);
            });

            console.log('Soma dos valores das respostas:', somaRespostas);

            // Calcula a porcentagem do resultado
            const valorMinimo = -20;
            const valorMaximo = 20;
            const valorTotal = somaRespostas + valorMaximo;
            const porcentagem = (valorTotal / (valorMaximo - valorMinimo)) * 100;

            console.log('Porcentagem do resultado:', porcentagem);

            // Envia os dados do formulário para a página resultado
            const formData = new FormData(form);
            formData.append('resultado', porcentagem.toFixed(2));
            const encodedFormData = new URLSearchParams(formData).toString();
            window.location.href = `resultado.html?${encodedFormData}`;
        });

        // Desativa o botão de envio se nem todas as perguntas foram respondidas
        const desativarBotaoEnvio = () => {
            const respostas = document.querySelectorAll('input[type=radio]:checked');
            submitButton.disabled = respostas.length !== 10;
            console.log('Botão de envio desativado pois nem todas as perguntas foram respondidas');
        };

        // Adiciona listeners para as mudanças das respostas
        const respostas = document.querySelectorAll('input[type=radio]');
        respostas.forEach((resposta) => {
            resposta.addEventListener('change', desativarBotaoEnvio);
        });

        console.log('Listeners adicionados para as mudanças das respostas');

        // Desativa o botão de envio no início
        desativarBotaoEnvio();
        console.log('Botão de envio desativado no início');
    </script>






</body>

</html>